%link{:href => "/assets/bootstrap.min.css", :rel => "stylesheet"}/
%link{:href => "/assets/rwd-table.min.css", :rel => "stylesheet"}/

-if !objs.present? and params[:admin_search].present?
  .mdl-typography--text-center.BlnkTxt.p-t-10
    = get_search_data("invitee_structures")
- else  
  .table-responsive{"data-pattern" => "priority-columns"}
    %table.table.table-small-font.table-bordered.table-striped.mdl-data-table{"template-pagination" => "custom/pager"}
      %thead
        %tr
          - @registration.selected_column_values.each_with_index do |column, index|
            %th{"data-priority" => "1"}
              = column
          %th{"data-priority" => "1"}
            = 'Status'
          %th{"data-priority" => "1"}
            = 'Action'
      %tbody
        - database_columns = @registration.selected_columns
        - objs.each_with_index do |user_registration,index|
          %tr
            - user_registration_attrs = user_registration.attributes
            - database_columns.each_with_index do |attrr, index|
              %td
                = user_registration_attrs[attrr]
            %td
              = user_registration_attrs['status']
            %td.IconDrp
              = more_vert_button(index)
              %ul.mdl-menu.mdl-menu--bottom-right.mdl-js-menu.mdl-js-ripple-effect{:for => "demo-menu-lower-right#{index}"}
                - if user_registration_attrs['status'] == "approved" 
                  = link_to "Unapprove",{:action=>"update", :controller=>"admin/user_registrations", :id => user_registration_attrs['id'], :manual_approve => 'true', :status => 'pending'}, :method => "patch", :data => { confirm: 'Are you sure, you want un-approved.'},:class => "mdl-menu__item" 
                - else
                  = link_to "Approve",{:action=>"update", :controller=>"admin/user_registrations", :id => user_registration_attrs['id'], :manual_approve => 'true', :status => 'approved'}, :method => "patch", :data => { confirm: 'Are you sure, you want approve.'},:class => "mdl-menu__item" 
  = will_paginate objs
:javascript
  $(function() {
    $('.table-responsive').responsiveTable({
      addFocusBtn : false
    });
   });

  $(document).ready(function(){
    var dropdownMenuList = $('.dropdown-menu li').length;
    if (dropdownMenuList >= 10)
    {
      $(".dropdown-menu").css({"height":"400px","overflow-y":"scroll"});
    }else{
      $(".dropdown-menu").css({"height":"auto","overflow-y":"auto"});
    }
  });
%script{:src => "/assets/rwd-table.js", :type => "text/javascript"}
%script{:src => "/assets/bootstrap.js", :type => "text/javascript"}